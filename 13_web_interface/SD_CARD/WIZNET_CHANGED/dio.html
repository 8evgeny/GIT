<!DOCTYPE html>
<html>
    <head>
    <title>w5x00 Web Server Digital I/O</title>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <script>
        function AJAX(a,e)
        {
            var c=d();
            c.onreadystatechange=b;
            function d()
            {
                if(window.XMLHttpRequest)
                {
                    return new XMLHttpRequest()
                }
                else
                {
                    if(window.ActiveXObject)
                    {
                        return new ActiveXObject(\"Microsoft.XMLHTTP\")
                    }
                }
            }
            function b()
            {
                if(c.readyState==4)
                {
                    if(c.status==200)
                    {
                        if(e)
                        {
                            e(c.responseText)
                        }
                    }
                }
            }
            this.doGet=function()
            {
                c.open(\"GET\",a,true);
                c.send(null)
            };
            this.doPost=function(f)
            {
                c.open(\"POST\",a,true);
                c.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");
                c.setRequestHeader(\"ISAJAX\",\"yes\");
                c.send(f)
            }
        }
        function $(a)
        {
            return document.getElementById(a)
        }
        function $$(a)
        {
            return document.getElementsByName(a)
        }
        function $$_ie(a,c)
        {
            if(!a)
            {
                a=\"*\"
            }
            var b=document.getElementsByTagName(a);
            var e=[];
            for(var d=0;d<b.length;d++)
            {
                att=b[d].getAttribute(\"name\");
                if(att==c)
                {
                    e.push(b[d])
                }
            }
            return e
        }          
    </script>
    <script>
        function DioCallback(o)
        {
            var pin = o.dio_p;
            $('txtdio_s'+pin).value=o.dio_s;
            $('txtdio_d'+pin).value=o.dio_d;
        }
        function getDio(o) 
        {
            var p=o.attributes['pin'].value;
            var oUpdate;
            oUpdate=new AJAX('get_dio'+p+'.cgi',function(t){try{eval(t);}catch(e){alert(e);}});
            oUpdate.doGet();
        }
        function setDiostate(o)
        {
            var p=o.attributes['pin'].value;
            /*var v=$('txtdio_s'+p).value;*/
            var v=o.attributes['s'].value;
            dout=new AJAX('set_diostate.cgi',function(t){try{eval(t);}catch(e){alert(e);}});
            dout.doPost('pin='+p+'&val='+v);
        }
        function setDiodir(o)
        {
            var p=o.attributes['pin'].value;
            /*var v=$('txtdio_d'+p).value;*/
            var v=o.attributes['d'].value;
            dout=new AJAX('set_diodir.cgi', function(t){try{eval(t);}catch(e){alert(e);}});
            dout.doPost('pin='+p+'&val='+v);
        }        
    </script>
    </head>
    <body>
        <!-- to do -->
        <div>
        <input type='button' value='LED G Off' pin='0' s='0' onclick='setDiostate(this);'> 
        <input type='button' value='LED G On ' pin='0' s= '1' onclick='setDiostate(this);'>
        <br>
        <input type='button' value='LED O Off' pin='1' s='0' onclick='setDiostate(this);'> 
        <input type='button' value='LED O On ' pin='1' s= '1' onclick='setDiostate(this);'>
        <br>
        <input type='button' value='LED B Off' pin='3' s='0' onclick='setDiostate(this);'> 
        <input type='button' value='LED B On ' pin='3' s= '1' onclick='setDiostate(this);'>
        <br>
        <input type='button' value='LED R Off' pin='2' s='0' onclick='setDiostate(this);'> 
        <input type='button' value='LED R On' pin='2' s= '1' onclick='setDiostate(this);'>
        </div>
        <!-- to do -->
    </body>
</html>
